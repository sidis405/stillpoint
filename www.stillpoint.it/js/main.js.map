{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["// $('.main-carousel').css('margin-top', $('.navbar').height()/2);\n\n$('.gallery-item').magnificPopup({\n  type: 'image',\n  gallery:{\n    enabled:true\n  }\n});\n\n\n$('.open-news-modal').magnificPopup({\n  type:'inline',\n  midClick: true // Allow opening popup on middle mouse click. Always set it to true if you don't provide alternative source in href.\n});\n\n$('.news-modal').addClass('mfp-hide')\n\n$('.main-carousel').slick({\t\n  autoplay: true\n});\n\n$('.news-carousel').slick({\n\tarrows: false,\n\tinfinite: true,\n\tdots: true,\n\tslidesToShow: 4,\n  responsive: [\n    {\n      breakpoint: 1450,\n      settings: {\n        slidesToShow: 3      \n      }\n    },\n    {\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 2        \n      }\n    },\n    {\n      breakpoint: 900,\n      settings: {\n        slidesToShow: 2        \n      }\n    },\n    {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 1        \n      }\n    }\n  ]\n});\n\n$('.quotes-carousel').slick({\t\n\tinfinite: true,\t\n\tslidesToShow: 1,\n  arrows: true\n});\n\n// Shrink header on scroll\n  if ($(window).width() > 1450 && window.location.href.indexOf(\"/articolo\") < 0 && window.location.href.indexOf(\"/privacy-policy\") < 0) {\n    $(document).on(\"scroll\", function(){\n    if\n      ($(document).scrollTop() > 50){\n      $(\".navbar\").addClass(\"shrink\");      \n    }\n    else\n    {\n      $(\".navbar\").removeClass(\"shrink\");      \n    }\n  });\n } else {\n  $('.navbar').addClass(\"shrink\")\n }\n\n// Minimalistic scrollspy\nvar lastId,\n    topMenu = $(\".navbar\"),\n    topMenuHeight = topMenu.outerHeight()+15,\n    // All list items\n    menuItems = topMenu.find(\"a\"),\n    // Anchors corresponding to menu items\n    scrollItems = menuItems.map(function(){\n      var item = $($(this).attr(\"href\"));\n      if (item.length) { return item; }\n    });\n\n// Bind click handler to menu items\n// so we can get a fancy scroll animation\nmenuItems.click(function(e){\n  var href = $(this).attr(\"href\"),\n      offsetTop = href === \"#\" ? 0 : $(href).offset().top-$('.navbar-header').height();\n  $('html, body').stop().animate({ \n      scrollTop: offsetTop\n  }, 300);\n  e.preventDefault();\n});\n\n// Bind to scroll\n$(window).scroll(function(){\n   // Get container scroll position\n   var fromTop = $(this).scrollTop()+topMenuHeight;\n   \n   // Get id of current scroll item\n   var cur = scrollItems.map(function(){\n     if ($(this).offset().top < fromTop)\n       return this;\n   });\n   // Get the id of the current element\n   cur = cur[cur.length-1];\n   var id = cur && cur.length ? cur[0].id : \"\";\n   \n   if (lastId !== id) {\n       lastId = id;\n       // Set/remove active class\n       menuItems\n         .parent().removeClass(\"active\")\n         .end().filter(\"[href=#\"+id+\"]\").parent().addClass(\"active\");\n   }                   \n});\n\n\n $(document).ready(function() {\n\n    function initialize() {\n      var myLatlng = new google.maps.LatLng(41.9223124,12.5162724);\n      var mapOptions = {\n        zoom: 16,\n        scrollwheel: false,\n        center: myLatlng\n      }\n      var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);\n\n      var marker = new google.maps.Marker({\n          position: myLatlng,\n          map: map,\n          icon: 'img/map-icon.png',\n          title: 'Still Point'\n      });\n    }\n\n    google.maps.event.addDomListener(window, 'load', initialize);\n\n\n});\n\n$(document).ready(function () {\n    if(window.location.href.indexOf(\"/articolo\") > -1) {\n       $('.navbar').addClass('shrink');\n       $('#news-page').css('margin-top', $('.navbar').height());\n    }\n});\n\n\n$('#contact_form').submit(function(e){\n  e.preventDefault();\n\n  // alert('invia mail');\n\n  sendContactMail();\n\n})\n\nfunction sendContactMail() {\n\n    var token = $('meta[name=\"_token\"]').attr('content');\n\n    // console.log(last_activity);\n    var formData = $('#contact_form').serializeArray();\n\n    $.ajax({\n        url: \"/contact_send\",\n        type: 'POST',\n        data: {_token : token, form: formData},\n        success: function(data) {\n\n            // alert('mail spedita');\n\n            $('#contact_form').html('<div class=\"success_contact\">Grazie per averci contattato. Vi risponderemo il prima possibile.</div>');\n\n            return false;\n        },\n        error: function(XMLHttpRequest, textstatus, error) {\n\n            return false;\n\n        }\n    });\n\n    return false;\n\n\n}\n\n/*\n * Copyright (C) 2012 PrimeBox (info@primebox.co.uk)\n * \n * This work is licensed under the Creative Commons\n * Attribution 3.0 Unported License. To view a copy\n * of this license, visit\n * http://creativecommons.org/licenses/by/3.0/.\n * \n * Documentation available at:\n * http://www.primebox.co.uk/projects/cookie-bar/\n * \n * When using this software you use it at your own risk. We hold\n * no responsibility for any damage caused by using this plugin\n * or the documentation provided.\n */\n(function($){\n  $.cookieBar = function(options,val){\n    if(options=='cookies'){\n      var doReturn = 'cookies';\n    }else if(options=='set'){\n      var doReturn = 'set';\n    }else{\n      var doReturn = false;\n    }\n    var defaults = {\n      message: 'We use cookies to track usage and preferences.', //Message displayed on bar\n      acceptButton: true, //Set to true to show accept/enable button\n      acceptText: 'I Understand', //Text on accept/enable button\n      declineButton: false, //Set to true to show decline/disable button\n      declineText: 'Disable Cookies', //Text on decline/disable button\n      policyButton: false, //Set to true to show Privacy Policy button\n      policyText: 'Privacy Policy', //Text on Privacy Policy button\n      policyURL: '/privacy-policy/', //URL of Privacy Policy\n      autoEnable: true, //Set to true for cookies to be accepted automatically. Banner still shows\n      acceptOnContinue: false, //Set to true to silently accept cookies when visitor moves to another page\n      expireDays: 365, //Number of days for cookieBar cookie to be stored for\n      forceShow: false, //Force cookieBar to show regardless of user cookie preference\n      effect: 'slide', //Options: slide, fade, hide\n      element: 'body', //Element to append/prepend cookieBar to. Remember \".\" for class or \"#\" for id.\n      append: false, //Set to true for cookieBar HTML to be placed at base of website. Actual position may change according to CSS\n      fixed: false, //Set to true to add the class \"fixed\" to the cookie bar. Default CSS should fix the position\n      bottom: false, //Force CSS when fixed, so bar appears at bottom of website\n      zindex: '', //Can be set in CSS, although some may prefer to set here\n      redirect: String(window.location.href), //Current location\n      domain: String(window.location.hostname), //Location of privacy policy\n      referrer: String(document.referrer) //Where visitor has come from\n    };\n    var options = $.extend(defaults,options);\n    \n    //Sets expiration date for cookie\n    var expireDate = new Date();\n    expireDate.setTime(expireDate.getTime()+(options.expireDays*24*60*60*1000));\n    expireDate = expireDate.toGMTString();\n    \n    var cookieEntry = 'cb-enabled={value}; expires='+expireDate+'; path=/';\n    \n    //Retrieves current cookie preference\n    var i,cookieValue='',aCookie,aCookies=document.cookie.split('; ');\n    for (i=0;i<aCookies.length;i++){\n      aCookie = aCookies[i].split('=');\n      if(aCookie[0]=='cb-enabled'){\n          cookieValue = aCookie[1];\n      }\n    }\n    //Sets up default cookie preference if not already set\n    if(cookieValue=='' && doReturn!='cookies' && options.autoEnable){\n      cookieValue = 'enabled';\n      document.cookie = cookieEntry.replace('{value}','enabled');\n    }\n    if(options.acceptOnContinue){\n      if(options.referrer.indexOf(options.domain)>=0 && String(window.location.href).indexOf(options.policyURL)==-1 && doReturn!='cookies' && doReturn!='set' && cookieValue!='accepted' && cookieValue!='declined'){\n        doReturn = 'set';\n        val = 'accepted';\n      }\n    }\n    if(doReturn=='cookies'){\n      //Returns true if cookies are enabled, false otherwise\n      if(cookieValue=='enabled' || cookieValue=='accepted'){\n        return true;\n      }else{\n        return false;\n      }\n    }else if(doReturn=='set' && (val=='accepted' || val=='declined')){\n      //Sets value of cookie to 'accepted' or 'declined'\n      document.cookie = cookieEntry.replace('{value}',val);\n      if(val=='accepted'){\n        return true;\n      }else{\n        return false;\n      }\n    }else{\n      //Sets up enable/accept button if required\n      var message = options.message.replace('{policy_url}',options.policyURL);\n      \n      if(options.acceptButton){\n        var acceptButton = '<a href=\"\" class=\"cb-enable\">'+options.acceptText+'</a>';\n      }else{\n        var acceptButton = '';\n      }\n      //Sets up disable/decline button if required\n      if(options.declineButton){\n        var declineButton = '<a href=\"\" class=\"cb-disable\">'+options.declineText+'</a>';\n      }else{\n        var declineButton = '';\n      }\n      //Sets up privacy policy button if required\n      if(options.policyButton){\n        var policyButton = '<a target=\"_blank\" href=\"'+options.policyURL+'\" class=\"cb-policy\">'+options.policyText+'</a>';\n      }else{\n        var policyButton = '';\n      }\n      //Whether to add \"fixed\" class to cookie bar\n      if(options.fixed){\n        if(options.bottom){\n          var fixed = ' class=\"fixed bottom\"';\n        }else{\n          var fixed = ' class=\"fixed\"';\n        }\n      }else{\n        var fixed = '';\n      }\n      if(options.zindex!=''){\n        var zindex = ' style=\"z-index:'+options.zindex+';\"';\n      }else{\n        var zindex = '';\n      }\n      \n      //Displays the cookie bar if arguments met\n      if(options.forceShow || cookieValue=='enabled' || cookieValue==''){\n        if(options.append){\n          $(options.element).append('<div id=\"cookie-bar\"'+fixed+zindex+'><p>'+message+acceptButton+declineButton+policyButton+'</p></div>');\n        }else{\n          $(options.element).prepend('<div id=\"cookie-bar\"'+fixed+zindex+'><p>'+message+acceptButton+declineButton+policyButton+'</p></div>');\n        }\n      }\n      \n      //Sets the cookie preference to accepted if enable/accept button pressed\n      $('#cookie-bar .cb-enable').click(function(){\n        document.cookie = cookieEntry.replace('{value}','accepted');\n        if(cookieValue!='enabled' && cookieValue!='accepted'){\n          window.location = options.redirect;\n        }else{\n          if(options.effect=='slide'){\n            $('#cookie-bar').slideUp(300,function(){$('#cookie-bar').remove();});\n          }else if(options.effect=='fade'){\n            $('#cookie-bar').fadeOut(300,function(){$('#cookie-bar').remove();});\n          }else{\n            $('#cookie-bar').hide(0,function(){$('#cookie-bar').remove();});\n          }\n          return false;\n        }\n      });\n      //Sets the cookie preference to declined if disable/decline button pressed\n      $('#cookie-bar .cb-disable').click(function(){\n        var deleteDate = new Date();\n        deleteDate.setTime(deleteDate.getTime()-(864000000));\n        deleteDate = deleteDate.toGMTString();\n        aCookies=document.cookie.split('; ');\n        for (i=0;i<aCookies.length;i++){\n          aCookie = aCookies[i].split('=');\n          if(aCookie[0].indexOf('_')>=0){\n            document.cookie = aCookie[0]+'=0; expires='+deleteDate+'; domain='+options.domain.replace('www','')+'; path=/';\n          }else{\n            document.cookie = aCookie[0]+'=0; expires='+deleteDate+'; path=/';\n          }\n        }\n        document.cookie = cookieEntry.replace('{value}','declined');\n        if(cookieValue=='enabled' && cookieValue!='accepted'){\n          window.location = options.redirect;\n        }else{\n          if(options.effect=='slide'){\n            $('#cookie-bar').slideUp(300,function(){$('#cookie-bar').remove();});\n          }else if(options.effect=='fade'){\n            $('#cookie-bar').fadeOut(300,function(){$('#cookie-bar').remove();});\n          }else{\n            $('#cookie-bar').hide(0,function(){$('#cookie-bar').remove();});\n          }\n          return false;\n        }\n      });\n    }\n  };\n})(jQuery);\n\n$(document).ready(function(){\n  $.cookieBar({\n    message: \"Stillpoint utilizza cookies di terze parti. Continuando la navigazione ne accetti l'utilizzo. \",\n    policyButton: true,\n    policyText: 'Maggiori informazioni',\n    policyURL: 'privacy-policy',\n    acceptText: 'Ok',\n    fixed: true,\n    bottom: true   \n  });\n});\n"],"sourceRoot":"/source/"}